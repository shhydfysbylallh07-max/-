<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙƒØ§ÙØªÙŠØ±ÙŠØ§ Ø§Ù„Ø®ÙŠØ± Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#FF6F61">

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- CSS Ø¯Ø§Ø®Ù„ÙŠ -->
    <style>
        :root {
            --primary-color: #FF6F61;
            --secondary-color: #FFA07A;
            --warning-color: #FFC107;
            --danger-color: #DC3545;
            --gray-100: #f8f9fa;
            --gray-200: #e9ecef;
            --gray-300: #dee2e6;
            --gray-500: #6c757d;
            --gray-600: #495057;
            --radius-sm: 6px;
            --font-family: 'Arial', sans-serif;
        }
        body {
            margin: 0;
            font-family: var(--font-family);
            background: var(--gray-100);
            color: var(--gray-600);
        }
        .hero-section {
            position: relative;
            height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            text-align: center;
            background-size: cover;
            background-position: center;
        }
        .hero-section h1 { font-size: 2rem; margin: 0; }
        .hero-section p { font-size: 1rem; }

        .category-card, .product-card, .top-product-card {
            background: white;
            border-radius: var(--radius-sm);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            padding: 1rem;
            text-align: center;
            margin: 0.5rem;
            cursor: pointer;
        }
        .category-card i { font-size: 2rem; margin-bottom: 0.5rem; }
        .product-card img, .top-product-card img {
            width: 100%;
            border-radius: var(--radius-sm);
            height: 150px;
            object-fit: cover;
        }
        button {
            cursor: pointer;
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: var(--radius-sm);
            transition: 0.3s;
        }
        button:hover { background: var(--secondary-color); }
        .cart-item {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--gray-300);
        }
        .cart-item img { width: 50px; height: 50px; object-fit: cover; border-radius: var(--radius-sm); }
        #cartModal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: none; justify-content: center; align-items: center; z-index: 999; }
        #cartModal.active { display: flex; }
        #cartModal .modal-content { background: white; padding: 1rem; border-radius: var(--radius-sm); width: 90%; max-width: 400px; }
    </style>
</head>
<body>
    <!-- Ù‚Ø³Ù… Ø§Ù„Ø¨Ø·Ù„ (Hero) -->
    <section class="hero-section" id="heroSection">
        <h1 id="heroTitle">Ø§Ø³ØªÙ…ØªØ¹ Ø¨ØªØ¬Ø±Ø¨Ø© Ø¹ØµØ§Ø¦Ø± ÙØ§Ø®Ø±Ø© Ù„Ø§ ØªÙÙ†Ø³Ù‰! ğŸ¹</h1>
        <p id="heroDescription">Ø§ÙƒØªØ´Ù Ø¹Ø§Ù„Ù…Ù‹Ø§ Ù…Ù† Ø§Ù„Ù†ÙƒÙ‡Ø§Øª Ø§Ù„Ø±Ø§Ù‚ÙŠØ© Ù…Ø¹ Ø¹ØµØ§Ø¦Ø±Ù†Ø§ Ø§Ù„Ø·Ø§Ø²Ø¬Ø© ÙˆØ³Ù†Ø¯ÙˆØªØ´Ø§ØªÙ†Ø§ Ø§Ù„Ù…Ù…ÙŠØ²Ø©</p>
    </section>

    <!-- Ø£Ù‚Ø³Ø§Ù… Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª -->
    <div id="categoriesGrid" style="display: flex; flex-wrap: wrap; justify-content: center; margin: 1rem;"></div>

    <!-- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ù…ÙŠØ²Ø© -->
    <h2 style="text-align:center; margin-top: 2rem;">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ù…ÙŠØ²Ø©</h2>
    <div id="topProductsGrid" style="display: flex; flex-wrap: wrap; justify-content: center;"></div>

    <!-- Ø§Ù„ÙÙ„ØªØ± Ø­Ø³Ø¨ Ø§Ù„ØªØµÙ†ÙŠÙ -->
    <div id="productsFilter" style="text-align: center; margin: 2rem;"></div>

    <!-- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¹Ø§Ø¯ÙŠØ© -->
    <div id="productsGrid" style="display: flex; flex-wrap: wrap; justify-content: center;"></div>

    <!-- Ø²Ø± Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ -->
    <button id="openCartBtn" style="position: fixed; bottom: 1rem; right: 1rem; border-radius: 50%; width: 60px; height: 60px; font-size: 1.5rem;">
        <i class="fas fa-shopping-cart"></i><span id="cartCount" style="position: absolute; top: -5px; right: -5px; background:red; color:white; font-size:0.8rem; border-radius:50%; width:20px; height:20px; display:flex; align-items:center; justify-content:center;">0</span>
    </button>

    <!-- Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ø³Ù„Ø© -->
    <div id="cartModal">
        <div class="modal-content">
            <h3>Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚</h3>
            <div id="cartItems"></div>
            <p style="text-align:right;">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="cartTotalPrice">0 Ø±ÙŠØ§Ù„</span></p>
            <button onclick="checkout()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</button>
            <button onclick="document.getElementById('cartModal').classList.remove('active')">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>
    </div>
    <script>
        // ===== Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© =====
        let state = {
            products: [],
            topProducts: [],
            categories: [],
            cart: [],
            settings: { currency: 'Ø±ÙŠØ§Ù„' },
            hero: {
                title: "Ø§Ø³ØªÙ…ØªØ¹ Ø¨ØªØ¬Ø±Ø¨Ø© Ø¹ØµØ§Ø¦Ø± ÙØ§Ø®Ø±Ø© Ù„Ø§ ØªÙÙ†Ø³Ù‰! ğŸ¹",
                description: "Ø§ÙƒØªØ´Ù Ø¹Ø§Ù„Ù…Ù‹Ø§ Ù…Ù† Ø§Ù„Ù†ÙƒÙ‡Ø§Øª Ø§Ù„Ø±Ø§Ù‚ÙŠØ© Ù…Ø¹ Ø¹ØµØ§Ø¦Ø±Ù†Ø§ Ø§Ù„Ø·Ø§Ø²Ø¬Ø© ÙˆØ³Ù†Ø¯ÙˆØªØ´Ø§ØªÙ†Ø§ Ø§Ù„Ù…Ù…ÙŠØ²Ø©",
                backgroundImage: "https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80"
            }
        };

        // ===== ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ =====
        document.addEventListener('DOMContentLoaded', () => {
            renderHero();
            initializeSampleData();
            renderCategories();
            renderTopProducts();
            renderProducts();
            updateCartUI();
        });

        function initializeSampleData() {
            if(state.products.length > 0) return;
            state.categories = [
                { id: 1, name: "Ø¹ØµØ§Ø¦Ø± ÙÙˆØ§ÙƒÙ‡", icon: "fas fa-glass-whiskey" },
                { id: 2, name: "Ø³Ù…ÙˆØ«ÙŠØ²", icon: "fas fa-blender" },
                { id: 3, name: "Ø³Ù†Ø¯ÙˆØªØ´Ø§Øª", icon: "fas fa-hamburger" }
            ];
            state.products = [
                { id:1, name:"Ø¹ØµÙŠØ± Ø¨Ø±ØªÙ‚Ø§Ù„ Ø·Ø§Ø²Ø¬", price:500, category:"Ø¹ØµØ§Ø¦Ø± ÙÙˆØ§ÙƒÙ‡", image:"https://images.unsplash.com/photo-1623065687346-7e23c4c2b19b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", status:"available" },
                { id:2, name:"Ø³Ù…ÙˆØ«ÙŠ ÙØ±Ø§ÙˆÙ„Ø©", price:800, category:"Ø³Ù…ÙˆØ«ÙŠØ²", image:"https://images.unsplash.com/photo-1600271886742-f049cd451bba?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", status:"available" },
                { id:3, name:"Ø³Ù†Ø¯ÙˆØªØ´ Ø¬Ø¨Ù†Ø©", price:1500, category:"Ø³Ù†Ø¯ÙˆØªØ´Ø§Øª", image:"https://images.unsplash.com/photo-1567234669003-dce7a7a88821?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", status:"available" }
            ];
            state.topProducts = [state.products[0], state.products[1]];
        }

        function renderHero() {
            const heroSection = document.getElementById('heroSection');
            heroSection.style.backgroundImage = `linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('${state.hero.backgroundImage}')`;
            document.getElementById('heroTitle').textContent = state.hero.title;
            document.getElementById('heroDescription').textContent = state.hero.description;
        }

        function renderCategories() {
            const container = document.getElementById('categoriesGrid');
            container.innerHTML = '';
            state.categories.forEach(cat=>{
                const div = document.createElement('div');
                div.className = 'category-card';
                div.innerHTML = `<i class="${cat.icon}"></i><h3>${cat.name}</h3>`;
                div.addEventListener('click', ()=> {
                    state.currentCategory = cat.name;
                    renderProducts();
                });
                container.appendChild(div);
            });
        }

        function renderTopProducts() {
            const container = document.getElementById('topProductsGrid');
            container.innerHTML = '';
            state.topProducts.forEach(prod=>{
                const div = document.createElement('div');
                div.className = 'top-product-card';
                div.innerHTML = `<img src="${prod.image}"><h4>${prod.name}</h4><p>${prod.price} Ø±ÙŠØ§Ù„</p><button onclick="addToCart(${prod.id})">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>`;
                container.appendChild(div);
            });
        }

        function renderProducts() {
            const container = document.getElementById('productsGrid');
            container.innerHTML = '';
            const filtered = state.products.filter(p => !state.currentCategory || state.currentCategory==='all' || p.category===state.currentCategory);
            filtered.forEach(prod=>{
                const div = document.createElement('div');
                div.className = 'product-card';
                div.innerHTML = `<img src="${prod.image}"><h4>${prod.name}</h4><p>${prod.price} Ø±ÙŠØ§Ù„</p><button onclick="addToCart(${prod.id})">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>`;
                container.appendChild(div);
            });
        }

        // ===== Ø§Ù„Ø³Ù„Ø© =====
        function addToCart(productId) {
            const prod = state.products.find(p=>p.id===productId);
            if(!prod) return;
            const existing = state.cart.find(c=>c.productId===productId);
            if(existing) existing.quantity+=1;
            else state.cart.push({ productId, name:prod.name, price:prod.price, quantity:1 });
            updateCartUI();
        }

        function updateCartUI() {
            const container = document.getElementById('cartItems');
            const count = state.cart.reduce((a,b)=>a+b.quantity,0);
            document.getElementById('cartCount').textContent = count;
            container.innerHTML = '';
            let total = 0;
            state.cart.forEach((item,index)=>{
                total+=item.price*item.quantity;
                const div = document.createElement('div');
                div.className='cart-item';
                div.innerHTML=`<span>${item.name} (${item.quantity}) - ${item.price} Ø±ÙŠØ§Ù„</span>
                <button onclick="removeFromCart(${index})">Ø­Ø°Ù</button>`;
                container.appendChild(div);
            });
            document.getElementById('cartTotalPrice').textContent = total + ' Ø±ÙŠØ§Ù„';
        }

        function removeFromCart(index){
            state.cart.splice(index,1);
            updateCartUI();
        }

        function checkout(){
            if(state.cart.length===0){ alert('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©'); return; }
            alert(`ØªÙ… Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­! Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${state.cart.reduce((a,b)=>a+b.price*b.quantity,0)} Ø±ÙŠØ§Ù„`);
            state.cart=[]; updateCartUI();
        }

        document.getElementById('openCartBtn').addEventListener('click', ()=>{
            document.getElementById('cartModal').classList.add('active');
        });
    </script>
    <script>
        // ØªØ³Ø¬ÙŠÙ„ Service Worker
        if('serviceWorker' in navigator){
            window.addEventListener('load', ()=>{
                navigator.serviceWorker.register('service-worker.js')
                .then(reg=>console.log('SW registered', reg))
                .catch(err=>console.log('SW failed', err));
            });
        }

        // Ø²Ø± ÙˆØ§ØªØ³Ø§Ø¨
        const waBtn = document.createElement('a');
        waBtn.href = "https://wa.me/967730528609";
        waBtn.target="_blank";
        waBtn.style.position="fixed";
        waBtn.style.bottom="80px";
        waBtn.style.right="1rem";
        waBtn.style.background="#25D366";
        waBtn.style.color="white";
        waBtn.style.borderRadius="50%";
        waBtn.style.width="60px";
        waBtn.style.height="60px";
        waBtn.style.display="flex";
        waBtn.style.alignItems="center";
        waBtn.style.justifyContent="center";
        waBtn.style.fontSize="2rem";
        waBtn.innerHTML='<i class="fab fa-whatsapp"></i>';
        document.body.appendChild(waBtn);
    </script>
</body>
</html>
